(()=>{"use strict";var e={211:e=>{e.exports=import("https://static.paynow.pl/scripts/PyG5QjFDUI.min.js")}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}(()=>{const e=window.React,{decodeEntities:t}=wp.htmlEntities,{getSetting:a}=wc.wcSettings,{registerPaymentMethod:r}=wc.wcBlocksRegistry,{useEffect:o}=wp.element,s=a("leaselink_pay_by_paynow_pl_card_data",{}),l=t(s.title||"Card"),c=s.iconurl,i=t(s.available||!1),p=t(s.fields||"");let m=null;try{Promise.resolve().then(n.bind(n,211)).then((e=>e.load())).then((e=>e.get())).then((e=>{m=e.visitorId}))}catch(e){console.error("Cannot get fingerprint")}const y=t=>{const{eventRegistration:n,emitResponse:a}=t,{onPaymentProcessing:r}=n;return o((()=>{const e=r((async()=>{const e=document.querySelector('input[name="paymentMethodToken"]:checked'),t=e?e.value:null,n={};return t&&(n.paymentMethodToken=t),n.paymentMethodFingerprint=m,{type:a.responseTypes.SUCCESS,meta:{paymentMethodData:n}}}));return()=>{e()}}),[a.responseTypes.ERROR,a.responseTypes.SUCCESS,r]),(0,e.createElement)("div",{dangerouslySetInnerHTML:{__html:p}})};r({name:"leaselink_pay_by_paynow_pl_card",label:(0,e.createElement)((t=>{const{PaymentMethodLabel:n}=t.components,a=(0,e.createElement)("img",{src:c,alt:l,name:l});return(0,e.createElement)(n,{className:"paynow-block-label",text:l,icon:a})}),null),content:(0,e.createElement)(y,null),edit:(0,e.createElement)(y,null),canMakePayment:()=>i,ariaLabel:l})})()})();